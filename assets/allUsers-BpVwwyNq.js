import{a6 as y,S as h,r as U,C as g,e as n,f as A,w as r,g as l,V as u,h as d,t as o,i as V,a7 as v,m as p,H as x,I as b,x as w,A as B,B as C}from"./index-CyV538c9.js";import{b as _}from"./route-block-B_A1xBdJ.js";const D={class:"text-center"},S={__name:"allUsers",setup(I){const{apiAuth:m}=C(),{t:a}=y(),f=h(),i=U([]),k=g(()=>[{title:"ID",key:"_id"},{title:a("allUsers.account"),key:"user.account"},{title:a("allUsers.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:a("allUsers.cart"),key:"cart",sortable:!1},{title:a("allUsers.price"),key:"price",value:t=>t.cart.reduce((s,e)=>s+e.product.price*e.quantity,0)}]);return(async()=>{var t,s;try{const{data:e}=await m.get("/allUsers/all");i.value=e.result}catch(e){console.log(e),f({text:a("api."+(((s=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:s.message)||"unknownError")),snackbarProps:{color:"#C04759"}})}})(),(t,s)=>(n(),A(B,null,{default:r(()=>[l(w,null,{default:r(()=>[l(u,{cols:"12"},{default:r(()=>[d("h1",D,o(t.$t("nav.adminAllUsers")),1)]),_:1}),l(V),l(u,{cols:"12"},{default:r(()=>[l(v,{items:i.value,headers:k.value},{"item.cart":r(e=>[d("ul",null,[(n(!0),p(b,null,x(e.item.cart,c=>(n(),p("li",{key:c._id},o(c.product.name)+" x "+o(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof _=="function"&&_(S);export{S as default};
