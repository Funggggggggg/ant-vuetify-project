import{_ as I,u as V,k as b,l as D,c as E,r as m,o as t,a as c,b as o,w as s,m as B,n as N,p as C,q as u,f as v,F as d,g as A,e as r,j as l,t as f,s as g,v as i,x as S,i as R,y as F,z as M}from"./index-8-GIi-2L.js";const T=""+new URL("antlogo-D32jJf8p.ico",import.meta.url).href,j={__name:"default",setup(O){const e=V(),{apiAuth:x}=M(),_=b(),y=D(),k=E(()=>[{to:"/",text:"HOME",show:!0},{to:"/register",text:"REGISTER",show:!e.isLoggedIn},{to:"/login",text:"LOG IN",show:!e.isLoggedIn},{to:"/userPage",text:"PERSONAL",show:e.isLoggedIn},{to:"/admin",text:"ADMIN",show:e.isLoggedIn&&e.isAdmin}]),w=async()=>{try{await x.delete("/user/logout")}catch(p){console.log(p)}e.logout(),_({text:"登出成功",snackbarProps:{color:"#3B6C73"}}),y.push("/")};return(p,a)=>{const L=m("router-link"),h=m("router-view");return t(),c(d,null,[o(S,{elevation:"0",style:{height:"75px","background-color":"#383431"},class:"d-flex align-center justify-center"},{default:s(()=>[o(B,{class:"d-flex align-center"},{default:s(()=>[o(L,{to:"/welcome",class:"d-flex align-center",style:{"text-decoration":"none"}},{default:s(()=>[a[1]||(a[1]=N("img",{src:T,alt:"Logo",style:{height:"40px"}},null,-1)),o(C,{class:"custom-title ms-5"},{default:s(()=>a[0]||(a[0]=[u("Memorial Nest")])),_:1})]),_:1}),o(v,{class:"border-opacity-25 ms-8 me-4",color:"#F1D87F"}),(t(!0),c(d,null,A(k.value,n=>(t(),c(d,{key:n.to},[n.show?(t(),l(g,{key:0,to:n.to,"prepend-icon":n.icon,class:"text-body-2",variant:"text"},{default:s(()=>[u(f(n.text)+" ",1),r(e).isLoggedIn&&r(e).notifications>0?(t(),l(F,{key:0,content:r(e).notifications,floating:"",color:"#C04759"},null,8,["content"])):i("",!0)]),_:2},1032,["to","prepend-icon"])):i("",!0)],64))),128)),r(e).isLoggedIn?(t(),l(g,{key:0,rounded:"",style:{color:"#EDE5D2"},onClick:w},{default:s(()=>a[2]||(a[2]=[u(f("Sign out"))])),_:1})):i("",!0),r(e).isLoggedIn?(t(),l(g,{key:1,icon:"mdi-chat-processing",class:"text-body-2",style:{color:"#EDE5D2"}})):i("",!0)]),_:1})]),_:1}),o(R,null,{default:s(()=>[o(h)]),_:1})],64)}}},G=I(j,[["__scopeId","data-v-abf50a48"]]);export{G as default};
