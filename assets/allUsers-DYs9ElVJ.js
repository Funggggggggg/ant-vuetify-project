import{T as y,k as U,A as h,c as A,o as n,j as g,w as r,b as l,D as b,E as u,p as d,t as o,h as v,U as V,a as p,F as w,i as x,n as D,z as B}from"./index-BrPvT3NF.js";import{b as _}from"./route-block-B_A1xBdJ.js";const C={class:"text-center"},E={__name:"allUsers",setup(S){const{apiAuth:k}=B(),{t:a}=y(),m=U(),i=h([]),f=A(()=>[{title:"ID",key:"_id"},{title:a("allUsers.account"),key:"user.account"},{title:a("allUsers.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:a("allUsers.cart"),key:"cart",sortable:!1},{title:a("allUsers.price"),key:"price",value:t=>t.cart.reduce((s,e)=>s+e.product.price*e.quantity,0)}]);return(async()=>{var t,s;try{const{data:e}=await k.get("/allUsers/all");i.value=e.result}catch(e){console.log(e),m({text:a("api."+(((s=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:s.message)||"unknownError")),snackbarProps:{color:"#C04759"}})}})(),(t,s)=>(n(),g(D,null,{default:r(()=>[l(b,null,{default:r(()=>[l(u,{cols:"12"},{default:r(()=>[d("h1",C,o(t.$t("nav.adminAllUsers")),1)]),_:1}),l(v),l(u,{cols:"12"},{default:r(()=>[l(V,{items:i.value,headers:f.value},{"item.cart":r(e=>[d("ul",null,[(n(!0),p(w,null,x(e.item.cart,c=>(n(),p("li",{key:c._id},o(c.product.name)+" x "+o(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof _=="function"&&_(E);export{E as default};
