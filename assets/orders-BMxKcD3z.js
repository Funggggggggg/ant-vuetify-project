import{T as y,K as h,r as g,C as V,e as n,f as v,w as r,g as s,V as d,h as u,t as l,i as x,U as b,m as p,J as w,G as A,x as B,A as C,B as D}from"./index-Bwj4HQoO.js";import{b as _}from"./route-block-B_A1xBdJ.js";const S={class:"text-center"},q={__name:"orders",setup(E){const{apiAuth:f}=D(),{t:o}=y(),m=h(),i=g([]),k=V(()=>[{title:"ID",key:"_id"},{title:o("order.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:o("order.cart"),key:"cart",sortable:!1},{title:o("order.price"),key:"price",value:t=>t.cart.reduce((a,e)=>a+e.product.price*e.quantity,0)}]);return(async()=>{var t,a;try{const{data:e}=await f.get("/order");i.value=e.result}catch(e){console.log(e),m({text:o("api."+(((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)||"unknownError")),snackbarProps:{color:"#C04759"}})}})(),(t,a)=>(n(),v(C,null,{default:r(()=>[s(B,null,{default:r(()=>[s(d,{cols:"12"},{default:r(()=>[u("h1",S,l(t.$t("nav.orders")),1)]),_:1}),s(x),s(d,{cols:"12"},{default:r(()=>[s(b,{items:i.value,headers:k.value},{"item.cart":r(e=>[u("ul",null,[(n(!0),p(A,null,w(e.item.cart,c=>(n(),p("li",{key:c._id},l(c.product.name)+" x "+l(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof _=="function"&&_(q);export{q as default};
