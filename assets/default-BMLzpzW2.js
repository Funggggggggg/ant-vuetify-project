import{u as I,k as V,l as b,c as D,r as m,a as c,b as t,w as o,m as E,d as B,F as u,o as s,n as N,p as C,q as v,s as d,h as A,i as S,g as n,j as l,t as f,v as g,x as i,y as R,z as F}from"./index-CNGVU9B8.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T=""+new URL("antlogo-D32jJf8p.ico",import.meta.url).href,j={__name:"default",setup(O){const e=I(),{apiAuth:x}=F(),_=V(),y=b(),k=D(()=>[{to:"/",text:"HOME",show:!0},{to:"/register",text:"REGISTER",show:!e.isLoggedIn},{to:"/login",text:"LOG IN",show:!e.isLoggedIn},{to:"/userPage",text:"PERSONAL",show:e.isLoggedIn},{to:"/admin",text:"ADMIN",show:e.isLoggedIn&&e.isAdmin}]),w=async()=>{try{await x.delete("/user/logout")}catch(p){console.log(p)}e.logout(),_({text:"登出成功",snackbarProps:{color:"#3B6C73"}}),y.push("/")};return(p,r)=>{const h=m("router-link"),L=m("router-view");return s(),c(u,null,[t(E,{elevation:"0",style:{height:"75px","background-color":"#383431"},class:"d-flex align-center justify-center"},{default:o(()=>[t(N,{class:"d-flex align-center"},{default:o(()=>[t(h,{to:"/welcome",class:"d-flex align-center",style:{"text-decoration":"none"}},{default:o(()=>[r[1]||(r[1]=C("img",{src:T,alt:"Logo",style:{height:"40px"}},null,-1)),t(v,{class:"custom-title ms-5"},{default:o(()=>r[0]||(r[0]=[d("Memorial Nest")])),_:1})]),_:1}),t(A,{class:"border-opacity-25 ms-8 me-4",color:"#F1D87F"}),(s(!0),c(u,null,S(k.value,a=>(s(),c(u,{key:a.to},[a.show?(s(),l(g,{key:0,to:a.to,"prepend-icon":a.icon,class:"text-body-2",variant:"text"},{default:o(()=>[d(f(a.text)+" ",1),n(e).isLoggedIn&&n(e).notifications>0?(s(),l(R,{key:0,content:n(e).notifications,floating:"",color:"#C04759"},null,8,["content"])):i("",!0)]),_:2},1032,["to","prepend-icon"])):i("",!0)],64))),128)),n(e).isLoggedIn?(s(),l(g,{key:0,rounded:"",style:{color:"#EDE5D2"},onClick:w},{default:o(()=>r[2]||(r[2]=[d(f("Sign out"))])),_:1})):i("",!0),n(e).isLoggedIn?(s(),l(g,{key:1,icon:"mdi-chat-processing",class:"text-body-2",style:{color:"#EDE5D2"}})):i("",!0)]),_:1})]),_:1}),t(B,null,{default:o(()=>[t(L)]),_:1})],64)}}},U=M(j,[["__scopeId","data-v-abf50a48"]]);export{U as default};
