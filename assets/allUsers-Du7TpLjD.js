import{U as y,k as U,A as h,c as A,o as n,j as g,w as l,b as r,D as v,E as i,p as d,t as o,h as V,W as b,a as p,F as w,i as x,n as D,T as _,z as B}from"./index-DcZYs0cM.js";const C={class:"text-center"},E={__name:"allUsers",setup(S){const{apiAuth:k}=B(),{t:a}=y(),f=U(),u=h([]),m=A(()=>[{title:"ID",key:"_id"},{title:a("allUsers.account"),key:"user.account"},{title:a("allUsers.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:a("allUsers.cart"),key:"cart",sortable:!1},{title:a("allUsers.price"),key:"price",value:t=>t.cart.reduce((s,e)=>s+e.product.price*e.quantity,0)}]);return(async()=>{var t,s;try{const{data:e}=await k.get("/allUsers/all");u.value=e.result}catch(e){console.log(e),f({text:a("api."+(((s=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:s.message)||"unknownError")),snackbarProps:{color:"#C04759"}})}})(),(t,s)=>(n(),g(D,null,{default:l(()=>[r(v,null,{default:l(()=>[r(i,{cols:"12"},{default:l(()=>[d("h1",C,o(t.$t("nav.adminAllUsers")),1)]),_:1}),r(V),r(i,{cols:"12"},{default:l(()=>[r(b,{items:u.value,headers:m.value},{"item.cart":l(e=>[d("ul",null,[(n(!0),p(w,null,x(e.item.cart,c=>(n(),p("li",{key:c._id},o(c.product.name)+" x "+o(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof _=="function"&&_(E);export{E as default};
