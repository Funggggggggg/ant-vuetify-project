import{a6 as y,S as h,r as U,C as g,e as A,w as r,V,g as n,h as l,i as u,j as d,t as o,k as v,a7 as b,n as p,H as w,I as x,y as B,B as C}from"./index-BcYLqGWP.js";import{b as _}from"./route-block-B_A1xBdJ.js";const D={class:"text-center"},S={__name:"allUsers",setup(I){const{apiAuth:k}=C(),{t:a}=y(),m=h(),i=U([]),f=g(()=>[{title:"ID",key:"_id"},{title:a("allUsers.account"),key:"user.account"},{title:a("allUsers.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:a("allUsers.cart"),key:"cart",sortable:!1},{title:a("allUsers.price"),key:"price",value:t=>t.cart.reduce((s,e)=>s+e.product.price*e.quantity,0)}]);return(async()=>{var t,s;try{const{data:e}=await k.get("/allUsers/all");i.value=e.result}catch(e){console.log(e),m({text:a("api."+(((s=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:s.message)||"unknownError")),snackbarProps:{color:"#C04759"}})}})(),(t,s)=>(n(),A(V,null,{default:r(()=>[l(B,null,{default:r(()=>[l(u,{cols:"12"},{default:r(()=>[d("h1",D,o(t.$t("nav.adminAllUsers")),1)]),_:1}),l(v),l(u,{cols:"12"},{default:r(()=>[l(b,{items:i.value,headers:f.value},{"item.cart":r(e=>[d("ul",null,[(n(!0),p(x,null,w(e.item.cart,c=>(n(),p("li",{key:c._id},o(c.product.name)+" x "+o(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof _=="function"&&_(S);export{S as default};
